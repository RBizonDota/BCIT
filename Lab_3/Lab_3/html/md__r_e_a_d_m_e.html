<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Lab-3: Московский государственный технический университет имени Н.Э. Баумана</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Lab-3
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Московский государственный технический университет имени Н.Э. Баумана </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2>Лабораторная работа по дисциплине БКИТ №X</h2>
<p>Выполнил: <a href="https://vk.com/snipghost">Михаил Кучеренко "SnipGhost", ИУ5-34</a>, 18.10.2017 </p>
<p><br />
</p>
<h3>I. Описание задания</h3>
<p>Разработать программу, реализующую работу с классами.</p><ol type="1">
<li>Программа должна быть разработана в виде консольного приложения на языке C#.</li>
<li>Абстрактный класс «Геометрическая фигура» содержит виртуальный метод для вычисления площади фигуры.</li>
<li>Класс «Прямоугольник» наследуется от «Геометрическая фигура». Ширина и высота объявляются как свойства (property). Класс должен содержать конструктор по параметрам «ширина» и «высота».</li>
<li>Класс «Квадрат» наследуется от «Прямоугольник». Класс должен содержать конструктор по длине стороны.</li>
<li>Класс «Круг» наследуется от «Геометрическая фигура». Радиус объявляется как свойство (property). Класс должен содержать конструктор по параметру «радиус».</li>
<li>Для классов «Прямоугольник», «Квадрат», «Круг» переопределить виртуальный метод Object.ToString(), который возвращает в виде строки основные параметры фигуры и ее площадь.</li>
<li>Разработать интерфейс IPrint. Интерфейс содержит метод Print(), который не принимает параметров и возвращает void. Для классов «Прямоугольник», «Квадрат», «Круг» реализовать наследование от интерфейса IPrint. Переопределяемый метод Print() выводит на консоль информацию, возвращаемую переопределенным методом ToString(). </li>
</ol>
<p><br />
</p>
<h3>II. Код программы</h3>
<div class="fragment"><div class="line">﻿using <a class="code" href="namespace_system.html">System</a>;</div><div class="line"><span class="keyword">using</span> <a class="code" href="namespace_system.html">System</a>.Collections;</div><div class="line"><span class="keyword">using</span> <a class="code" href="namespace_system.html">System</a>.Linq;</div><div class="line"><span class="keyword">using</span> <a class="code" href="namespace_system.html">System</a>.Text;</div><div class="line"><span class="keyword">using</span> <a class="code" href="namespace_system.html">System</a>.Threading.Tasks;</div><div class="line"></div><div class="line"><span class="keyword">namespace </span><a class="code" href="namespace_lab__3.html">Lab_3</a></div><div class="line">{</div><div class="line">    <span class="keyword">class </span>Program</div><div class="line">    {</div><div class="line"></div><div class="line">        <span class="keyword">static</span> <span class="keywordtype">void</span> Main()</div><div class="line">        {</div><div class="line">            Menu m =<span class="keyword">new</span> Menu();</div><div class="line">            m.run();</div><div class="line">        }</div><div class="line">    }</div><div class="line">}</div><div class="line">﻿using <a class="code" href="namespace_system.html">System</a>;</div><div class="line"></div><div class="line"><span class="keyword">namespace </span><a class="code" href="namespace_lab__3.html">Lab_3</a></div><div class="line">{</div><div class="line">    <span class="keyword">interface </span>IPrint</div><div class="line">    {</div><div class="line">        <span class="keywordtype">void</span> print();</div><div class="line">    }</div><div class="line">    <span class="keyword">abstract</span> <span class="keyword">class </span>Figure : IComparable, IPrint</div><div class="line">    {</div><div class="line">        <span class="keyword">virtual</span> <span class="keyword">public</span> <span class="keywordtype">double</span> square() { <span class="keywordflow">return</span> 0; }</div><div class="line">        <span class="keyword">public</span> <span class="keywordtype">int</span> CompareTo(<span class="keywordtype">object</span> obj)</div><div class="line">        {</div><div class="line">            Figure f1 = obj as Figure;</div><div class="line">            <span class="keywordflow">if</span> (f1 == null)</div><div class="line">                <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentException(<span class="stringliteral">&quot;obj is not Figure!!!&quot;</span>);</div><div class="line">            <span class="comment">//if (this.square() &gt; f1.square()) return 1;</span></div><div class="line">            <span class="comment">//else if (this.square() == f1.square()) return 0;</span></div><div class="line">            <span class="comment">//else return -1;</span></div><div class="line">            <span class="keywordflow">return</span> this.square().CompareTo(f1.square());</div><div class="line">        }</div><div class="line">        <span class="keyword">abstract</span> <span class="keyword">public</span> <span class="keywordtype">void</span> print();</div><div class="line"></div><div class="line">    }</div><div class="line">    <span class="keyword">class </span>Circle : Figure</div><div class="line">    {</div><div class="line">        <span class="keyword">private</span> <span class="keywordtype">double</span> r;</div><div class="line">        <span class="keyword">public</span> <span class="keywordtype">double</span> radius</div><div class="line">        {</div><div class="line">            <span class="keyword">get</span></div><div class="line">            {</div><div class="line">                <span class="keywordflow">return</span> r;</div><div class="line">            }</div><div class="line">            <span class="keyword">set</span></div><div class="line">            {</div><div class="line">                <span class="keywordflow">if</span> (value &lt; 0)</div><div class="line">                    <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentOutOfRangeException($<span class="stringliteral">&quot;{nameof(value)} должно быть положительным!&quot;</span>);</div><div class="line">                r = value;</div><div class="line">            }</div><div class="line">        }</div><div class="line">        <span class="keyword">public</span> Circle(<span class="keywordtype">double</span> r1)</div><div class="line">        {</div><div class="line">            radius = r1;</div><div class="line">        }</div><div class="line">        <span class="keyword">public</span> <span class="keyword">override</span> <span class="keywordtype">string</span> ToString()</div><div class="line">        {</div><div class="line">            <span class="keywordtype">string</span> res;</div><div class="line">            res = <span class="stringliteral">&quot;Class: Circle,&quot;</span> +</div><div class="line">               $<span class="stringliteral">&quot; Area: {Math.Round(square(), 3)}&quot;</span>;</div><div class="line">            <span class="keywordflow">return</span> res;</div><div class="line">        }</div><div class="line">        <span class="keyword">public</span> <span class="keyword">override</span> <span class="keywordtype">double</span> square()</div><div class="line">        {</div><div class="line">            <span class="keywordflow">return</span> Math.PI * r * r;</div><div class="line">        }</div><div class="line">        <span class="keyword">public</span> <span class="keyword">override</span> <span class="keywordtype">void</span> print()</div><div class="line">        {</div><div class="line">            Console.WriteLine(this.ToString());</div><div class="line">        }</div><div class="line"></div><div class="line">    }</div><div class="line">    <span class="keyword">class </span>Rect : Figure</div><div class="line">    {</div><div class="line">        <span class="keyword">private</span> <span class="keywordtype">double</span> a;</div><div class="line">        <span class="keyword">private</span> <span class="keywordtype">double</span> b;</div><div class="line">        <span class="keyword">virtual</span> <span class="keyword">public</span> <span class="keywordtype">double</span> A</div><div class="line">        {</div><div class="line">            <span class="keyword">get</span></div><div class="line">            {</div><div class="line">                <span class="keywordflow">return</span> a;</div><div class="line">            }</div><div class="line">            <span class="keyword">set</span></div><div class="line">            {</div><div class="line">                <span class="keywordflow">if</span> (value &lt; 0)</div><div class="line">                    <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentOutOfRangeException($<span class="stringliteral">&quot;{nameof(value)} должно быть положительным!&quot;</span>);</div><div class="line">                a = value;</div><div class="line">            }</div><div class="line">        }</div><div class="line">        <span class="keyword">virtual</span> <span class="keyword">public</span> <span class="keywordtype">double</span> B</div><div class="line">        {</div><div class="line">            <span class="keyword">get</span></div><div class="line">            {</div><div class="line">                <span class="keywordflow">return</span> b;</div><div class="line">            }</div><div class="line">            <span class="keyword">set</span></div><div class="line">            {</div><div class="line">                <span class="keywordflow">if</span> (value &lt; 0)</div><div class="line">                    <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentOutOfRangeException($<span class="stringliteral">&quot;{nameof(value)} должно быть положительным!&quot;</span>);</div><div class="line">                b = value;</div><div class="line">            }</div><div class="line">        }</div><div class="line">        <span class="keyword">public</span> Rect(<span class="keywordtype">double</span> a1, <span class="keywordtype">double</span> b1)</div><div class="line">        {</div><div class="line">            A = a1;</div><div class="line">            B = b1;</div><div class="line">        }</div><div class="line">        <span class="keyword">public</span> <span class="keyword">override</span> <span class="keywordtype">string</span> ToString()</div><div class="line">        {</div><div class="line">            <span class="keywordtype">string</span> res;</div><div class="line">            res = <span class="stringliteral">&quot;Class: Rectangle,&quot;</span> +</div><div class="line">               $<span class="stringliteral">&quot; Area: {Math.Round(square(),3)}&quot;</span>;</div><div class="line">            <span class="keywordflow">return</span> res;</div><div class="line">        }</div><div class="line">        <span class="keyword">public</span> <span class="keyword">override</span> <span class="keywordtype">double</span> square()</div><div class="line">        {</div><div class="line">            <span class="keywordflow">return</span> A * B;</div><div class="line">        }</div><div class="line">        <span class="keyword">public</span> <span class="keyword">override</span> <span class="keywordtype">void</span> print()</div><div class="line">        {</div><div class="line">            Console.WriteLine(this.ToString());</div><div class="line">        }</div><div class="line">    }</div><div class="line">    <span class="keyword">class </span>Square : Rect</div><div class="line">    {</div><div class="line">        <span class="keyword">private</span> <span class="keywordtype">double</span> a;</div><div class="line">        <span class="comment">//public override double A</span></div><div class="line">        <span class="comment">//{</span></div><div class="line">        <span class="comment">//    get</span></div><div class="line">        <span class="comment">//    {</span></div><div class="line">        <span class="comment">//        return a;</span></div><div class="line">        <span class="comment">//    }</span></div><div class="line">        <span class="comment">//    set</span></div><div class="line">        <span class="comment">//    {</span></div><div class="line">        <span class="comment">//        if (value &lt; 0)</span></div><div class="line">        <span class="comment">//            throw new ArgumentOutOfRangeException($&quot;{nameof(value)} должно быть положительным!&quot;);</span></div><div class="line">        <span class="comment">//        a = value;</span></div><div class="line">        <span class="comment">//    }</span></div><div class="line">        <span class="comment">//}</span></div><div class="line">        <span class="keyword">public</span> <span class="keyword">override</span> <span class="keywordtype">string</span> ToString()</div><div class="line">        {</div><div class="line">            <span class="keywordtype">string</span> res;</div><div class="line">            res = <span class="stringliteral">&quot;Class: Square,&quot;</span> +</div><div class="line">               $<span class="stringliteral">&quot; Area: {Math.Round(square(), 3)}&quot;</span>;</div><div class="line">            <span class="keywordflow">return</span> res;</div><div class="line">        }</div><div class="line">        <span class="comment">//public override double square()</span></div><div class="line">        <span class="comment">//{</span></div><div class="line">        <span class="comment">//    return A * A;</span></div><div class="line">        <span class="comment">//}</span></div><div class="line">        <span class="keyword">public</span> Square(<span class="keywordtype">double</span> a1) : base(a1,a1)</div><div class="line">        {</div><div class="line">        }</div><div class="line">    }</div><div class="line">}</div><div class="line">﻿using System;</div><div class="line"><span class="keyword">using</span> System.Collections;</div><div class="line"><span class="keyword">using</span> System.Collections.Generic;</div><div class="line"><span class="keyword">using</span> System.Linq;</div><div class="line"><span class="keyword">using</span> System.Text;</div><div class="line"><span class="keyword">using</span> System.Threading.Tasks;</div><div class="line"></div><div class="line"><span class="keyword">namespace </span><a class="code" href="namespace_lab__3.html">Lab_3</a></div><div class="line">{</div><div class="line"></div><div class="line">    <span class="keyword">class </span>TestArray : IPrint</div><div class="line">    {</div><div class="line">        ArrayList arr1;</div><div class="line">        Random rand;</div><div class="line">        <span class="keyword">public</span> TestArray()</div><div class="line">        {</div><div class="line">            arr1 = <span class="keyword">new</span> ArrayList();</div><div class="line">            rand = <span class="keyword">new</span> Random();</div><div class="line">        }</div><div class="line">        <span class="keyword">public</span> <span class="keywordtype">void</span> Gener(<span class="keywordtype">int</span> rmax, <span class="keywordtype">int</span> times)</div><div class="line">        {</div><div class="line">            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; times; i++)</div><div class="line">            {</div><div class="line">                Figure res = null;</div><div class="line">                <span class="keywordtype">int</span> a = rand.Next(3);</div><div class="line">                <span class="keywordflow">switch</span> (a)</div><div class="line">                {</div><div class="line">                    <span class="keywordflow">case</span> 0:</div><div class="line">                        res = <span class="keyword">new</span> Circle(rand.Next(rmax));</div><div class="line">                        <span class="keywordflow">break</span>;</div><div class="line">                    <span class="keywordflow">case</span> 1:</div><div class="line">                        res = <span class="keyword">new</span> Rect(rand.Next(rmax), rand.Next(rmax));</div><div class="line">                        <span class="keywordflow">break</span>;</div><div class="line">                    <span class="keywordflow">case</span> 2:</div><div class="line">                        res = <span class="keyword">new</span> Square(rand.Next(rmax));</div><div class="line">                        <span class="keywordflow">break</span>;</div><div class="line">                }</div><div class="line">                arr1.Add(res);</div><div class="line">            }</div><div class="line">        }</div><div class="line">        <span class="keyword">public</span> <span class="keywordtype">void</span> print()</div><div class="line">        {</div><div class="line">            <span class="keywordflow">foreach</span> (Figure f <span class="keywordflow">in</span> arr1)</div><div class="line">            {</div><div class="line">                f.print();</div><div class="line">            }</div><div class="line">        }</div><div class="line">        <span class="keyword">public</span> <span class="keywordtype">void</span> Sort()</div><div class="line">        {</div><div class="line">            arr1.Sort();</div><div class="line">        }</div><div class="line">    }</div><div class="line">    <span class="comment">//==================================</span></div><div class="line">    <span class="keyword">public</span> <span class="keyword">interface </span>IMatrAdapter&lt;T&gt;</div><div class="line">    {</div><div class="line">       T getEmptyElement();</div><div class="line">       <span class="keywordtype">bool</span> checkEmptyElement(T element);</div><div class="line">    }</div><div class="line">    <span class="keyword">public</span> <span class="keyword">class </span>FigureMatrixCheckEmpty : IMatrAdapter&lt;Figure&gt;</div><div class="line">    {</div><div class="line">        Figure IMatrAdapter&lt;Figure&gt;.getEmptyElement()</div><div class="line">        {</div><div class="line">            <span class="keywordflow">return</span> null;</div><div class="line">        }</div><div class="line">        <span class="keywordtype">bool</span> IMatrAdapter&lt;Figure&gt;.checkEmptyElement(Figure element)</div><div class="line">        {</div><div class="line">            <span class="keywordtype">bool</span> res = <span class="keyword">false</span>;</div><div class="line">            <span class="keywordflow">if</span> (element == null)</div><div class="line">                res = <span class="keyword">true</span>;</div><div class="line">            <span class="keywordflow">return</span> res;</div><div class="line">        }</div><div class="line">    }</div><div class="line">    <span class="keyword">class </span>Matrix&lt;T&gt;:IPrint</div><div class="line">    {</div><div class="line">        <span class="keywordtype">int</span> xmax, ymax, zmax;</div><div class="line">        <span class="keyword">public</span> IMatrAdapter&lt;T&gt; Adap;</div><div class="line">        Dictionary&lt;string, T&gt; _matr = <span class="keyword">new</span> Dictionary&lt;string, T&gt;();</div><div class="line">        <span class="keyword">public</span> Matrix(<span class="keywordtype">int</span> _xmax, <span class="keywordtype">int</span> _ymax, <span class="keywordtype">int</span> _zmax, IMatrAdapter&lt;T&gt; IMCE)</div><div class="line">        {</div><div class="line">            xmax = _xmax;</div><div class="line">            ymax = _ymax;</div><div class="line">            zmax = _zmax;</div><div class="line">            Adap = IMCE;</div><div class="line">        }</div><div class="line">        <span class="keyword">public</span> T <span class="keyword">this</span>[<span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y, <span class="keywordtype">int</span> z]</div><div class="line">        {</div><div class="line">            <span class="keyword">set</span></div><div class="line">            {</div><div class="line">                CheckBounds(x, y, z);</div><div class="line">                <span class="keywordtype">string</span> key = DictKey(x, y, z);</div><div class="line">                <span class="keywordflow">if</span> (this._matr.ContainsKey(key))</div><div class="line">                {</div><div class="line">                    this._matr[key] = value;</div><div class="line">                }</div><div class="line">                <span class="keywordflow">else</span></div><div class="line">                {</div><div class="line">                    this._matr.Add(key, value);</div><div class="line">                }</div><div class="line">            }</div><div class="line">            <span class="keyword">get</span></div><div class="line">            {</div><div class="line">                CheckBounds(x, y, z);</div><div class="line">                <span class="keywordtype">string</span> key = DictKey(x, y, z);</div><div class="line">                <span class="keywordflow">if</span> (this._matr.ContainsKey(key))</div><div class="line">                {</div><div class="line">                    <span class="keywordflow">return</span> this._matr[key];</div><div class="line">                }</div><div class="line">                <span class="keywordflow">else</span></div><div class="line">                {</div><div class="line">                    <span class="keywordflow">return</span> this.Adap.getEmptyElement();</div><div class="line">                }</div><div class="line">            }</div><div class="line">        }</div><div class="line">        <span class="keywordtype">void</span> CheckBounds(<span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y, <span class="keywordtype">int</span> z)</div><div class="line">        {</div><div class="line">            <span class="keywordflow">if</span> (x &lt; 0 || x &gt;= xmax)</div><div class="line">                <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentOutOfRangeException(<span class="stringliteral">&quot;WRONG x&quot;</span>);</div><div class="line">            <span class="keywordflow">if</span> (y &lt; 0 || y &gt;= ymax)</div><div class="line">                <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentOutOfRangeException(<span class="stringliteral">&quot;WRONG y&quot;</span>);</div><div class="line">            <span class="keywordflow">if</span> (z &lt; 0 || z &gt;= zmax)</div><div class="line">                <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentOutOfRangeException(<span class="stringliteral">&quot;WRONG z&quot;</span>);</div><div class="line"></div><div class="line">        }</div><div class="line">        <span class="keywordtype">string</span> DictKey(<span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y, <span class="keywordtype">int</span> z)</div><div class="line">        {</div><div class="line">            <span class="keywordflow">return</span> x.ToString() + <span class="stringliteral">&quot;_&quot;</span> + y.ToString()+<span class="stringliteral">&quot;_&quot;</span>+ z.ToString();</div><div class="line">        }</div><div class="line">        <span class="keyword">public</span> <span class="keyword">override</span> <span class="keywordtype">string</span> ToString()</div><div class="line">        {</div><div class="line">            StringBuilder res = <span class="keyword">new</span> StringBuilder();</div><div class="line">            res.Append(<span class="stringliteral">&quot;x | y | z | value\n&quot;</span>);</div><div class="line">            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; xmax; i++)</div><div class="line">            {</div><div class="line">                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; ymax; j++)</div><div class="line">                {</div><div class="line">                    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k = 0; k &lt; zmax; k++)</div><div class="line">                    {</div><div class="line">                        <span class="keywordflow">if</span> (!Adap.checkEmptyElement(<span class="keyword">this</span>[i, j, k]))</div><div class="line">                        {</div><div class="line">                            res.Append(i.ToString()+<span class="stringliteral">&quot; | &quot;</span>+j.ToString() + <span class="stringliteral">&quot; | &quot;</span>+k.ToString() + <span class="stringliteral">&quot; | &quot;</span>+<span class="keyword">this</span>[i, j, k].ToString()+<span class="stringliteral">&quot;\n&quot;</span>);</div><div class="line">                        }</div><div class="line">                    }</div><div class="line">                }</div><div class="line">            }</div><div class="line">            res.Append(<span class="stringliteral">&quot;All other elements are empty\n&quot;</span>);</div><div class="line">            <span class="keywordflow">return</span> res.ToString();</div><div class="line">        }</div><div class="line">        <span class="keyword">public</span> <span class="keywordtype">void</span> print()</div><div class="line">        {</div><div class="line">            Console.WriteLine(this.ToString());</div><div class="line">        }</div><div class="line">    }</div><div class="line">    <span class="comment">//==================================</span></div><div class="line">    <span class="keyword">class </span>SimpleList&lt;T&gt; : IPrint</div><div class="line">        where T : IComparable</div><div class="line">    {</div><div class="line">        <span class="keyword">protected</span> SimpleListItem&lt;T&gt; first;</div><div class="line">        <span class="keyword">protected</span> SimpleListItem&lt;T&gt; last;</div><div class="line">        <span class="keywordtype">int</span> _count;</div><div class="line">        <span class="keyword">public</span> SimpleList()</div><div class="line">        {</div><div class="line">            first = null;</div><div class="line">            last = null;</div><div class="line">        }</div><div class="line">        <span class="keyword">public</span> <span class="keywordtype">int</span> count</div><div class="line">        {</div><div class="line">            <span class="keyword">get</span></div><div class="line">            {</div><div class="line">                <span class="keywordflow">return</span> _count;</div><div class="line">            }</div><div class="line">            <span class="keyword">protected</span> <span class="keyword">set</span></div><div class="line">            {</div><div class="line">                _count = value;</div><div class="line">            }</div><div class="line">        }</div><div class="line">        <span class="keyword">public</span> <span class="keywordtype">void</span> Add(T element)</div><div class="line">        {</div><div class="line">            SimpleListItem&lt;T&gt; a = <span class="keyword">new</span> SimpleListItem&lt;T&gt;(element);</div><div class="line">            <span class="keywordflow">if</span> (this.last == null)</div><div class="line">            {</div><div class="line">                first = a;</div><div class="line">                last = a;</div><div class="line">            }</div><div class="line">            <span class="keywordflow">else</span></div><div class="line">            {</div><div class="line">                last.next = a;</div><div class="line">                last = a;</div><div class="line">            }</div><div class="line">            count++;</div><div class="line">        }</div><div class="line">        <span class="keyword">public</span> SimpleListItem&lt;T&gt; getItem(<span class="keywordtype">int</span> number)</div><div class="line">        {</div><div class="line">            <span class="keywordflow">if</span> (number &lt; 0 || number &gt;= count)</div><div class="line">            {</div><div class="line">                <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentException(<span class="stringliteral">&quot;WRONG INDEX&quot;</span>);</div><div class="line">            }</div><div class="line">            <span class="keywordflow">else</span></div><div class="line">            {</div><div class="line">                <span class="keywordtype">int</span> i = 0;</div><div class="line">                SimpleListItem&lt;T&gt; buf = this.first;</div><div class="line">                <span class="keywordflow">while</span> (i&lt;number)</div><div class="line">                {</div><div class="line">                    i++;</div><div class="line">                    buf = buf.next;</div><div class="line">                }</div><div class="line">                <span class="keywordflow">return</span> buf;</div><div class="line">            }</div><div class="line">        }</div><div class="line">        <span class="keyword">public</span> T Get(<span class="keywordtype">int</span> number)</div><div class="line">        {</div><div class="line">            <span class="keywordflow">return</span> getItem(number).data;</div><div class="line">        }</div><div class="line">        <span class="keyword">public</span> <span class="keyword">override</span> <span class="keywordtype">string</span> ToString()</div><div class="line">        {</div><div class="line">            StringBuilder res = <span class="keyword">new</span> StringBuilder();</div><div class="line">            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; count; i++)</div><div class="line">            {</div><div class="line">                res.Append(i.ToString()+<span class="stringliteral">&quot;) &quot;</span>+Get(i).ToString()+<span class="stringliteral">&quot;\n&quot;</span>);</div><div class="line">            }</div><div class="line">            <span class="keywordflow">return</span> res.ToString();</div><div class="line">        }</div><div class="line">        <span class="keyword">public</span> <span class="keywordtype">void</span> print()</div><div class="line">        {</div><div class="line">            Console.WriteLine(this.ToString());</div><div class="line">        }</div><div class="line">    }</div><div class="line">    <span class="keyword">class </span>SimpleListItem&lt;T&gt;</div><div class="line">        where T : IComparable</div><div class="line">    {</div><div class="line">        <span class="keyword">public</span> SimpleListItem(T param)</div><div class="line">        {</div><div class="line">            data = param;</div><div class="line">        }</div><div class="line">        <span class="keyword">public</span> T data</div><div class="line">        {</div><div class="line">            <span class="keyword">get</span></div><div class="line">            {</div><div class="line">                <span class="keywordflow">return</span> _data;</div><div class="line">            }</div><div class="line">            <span class="keyword">set</span></div><div class="line">            {</div><div class="line">                _data = value;</div><div class="line">            }</div><div class="line">        }</div><div class="line">        T _data;</div><div class="line">        <span class="keyword">public</span> SimpleListItem&lt;T&gt; next</div><div class="line">        {</div><div class="line">            <span class="keyword">get</span></div><div class="line">            {</div><div class="line">                <span class="keywordflow">return</span> _next;</div><div class="line">            }</div><div class="line">            <span class="keyword">set</span></div><div class="line">            {</div><div class="line">                _next = value;</div><div class="line">            }</div><div class="line">        }</div><div class="line">        SimpleListItem&lt;T&gt; _next = null;</div><div class="line">    }</div><div class="line">    <span class="keyword">class </span>SimpleStack&lt;T&gt; : SimpleList&lt;T&gt;</div><div class="line">        where T:IComparable</div><div class="line">    {</div><div class="line">        <span class="keyword">public</span> SimpleListItem&lt;T&gt; Pop(<span class="keywordtype">int</span> i)</div><div class="line">        {</div><div class="line">            SimpleListItem&lt;T&gt; buf = getItem(i);</div><div class="line">            <span class="keywordflow">if</span> (first == buf)</div><div class="line">            {</div><div class="line">                first = buf.next;<span class="comment">//ошибка, если в списке 1 элемент!</span></div><div class="line">                <span class="keywordflow">if</span> (count == 1)</div><div class="line">                    last = null;</div><div class="line">            }</div><div class="line">            <span class="keywordflow">else</span></div><div class="line">            {</div><div class="line">                getItem(i - 1).next = buf.next;</div><div class="line">            }</div><div class="line">            count--;</div><div class="line">            <span class="keywordflow">return</span> buf;</div><div class="line">        }</div><div class="line">        <span class="keyword">public</span> <span class="keywordtype">void</span> Push(T element)</div><div class="line">        {</div><div class="line">            Add(element);</div><div class="line">        }</div><div class="line">    }</div><div class="line">    <span class="comment">//==================================</span></div><div class="line">    <span class="keyword">class </span>Menu</div><div class="line">    {</div><div class="line">        MySystem mySys = <span class="keyword">new</span> MySystem();</div><div class="line">        <span class="keywordtype">int</span> intReadKey()</div><div class="line">        {</div><div class="line">            <span class="keywordtype">int</span> res;</div><div class="line">            <span class="keywordtype">bool</span> f = <span class="keywordtype">int</span>.TryParse(Console.ReadLine(), out res);</div><div class="line">            <span class="keywordflow">if</span> (!f)</div><div class="line">                <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentException(<span class="stringliteral">&quot;Wrong input&quot;</span>);</div><div class="line">            <span class="keywordflow">return</span> res;</div><div class="line">        }</div><div class="line">        <span class="keywordtype">void</span> case1()</div><div class="line">        {</div><div class="line">            Console.Clear();</div><div class="line">            Console.Write(<span class="stringliteral">&quot;Enter number of elements. Array will be filled by randomly generated figures: &quot;</span>);</div><div class="line">            TestArray a = <span class="keyword">new</span> TestArray();</div><div class="line">            a.Gener(10, intReadKey());</div><div class="line">            mySys.printPalka(20);</div><div class="line">            a.print();</div><div class="line">            mySys.printPalka(20);</div><div class="line">            Console.WriteLine(<span class="stringliteral">&quot;Sorting...&quot;</span>);</div><div class="line">            mySys.printPalka(20);</div><div class="line">            a.Sort();</div><div class="line">            a.print();</div><div class="line">        }</div><div class="line">        <span class="keywordtype">void</span> case2()</div><div class="line">        {</div><div class="line">            Console.Clear();</div><div class="line">            Console.Write(<span class="stringliteral">&quot;Enter maximum size: &quot;</span>);</div><div class="line">            <span class="keywordtype">int</span> rmax= intReadKey();</div><div class="line">            Console.Write(<span class="stringliteral">&quot;Enter number of elements generated: &quot;</span>);</div><div class="line">            <span class="keywordtype">int</span> times = intReadKey();</div><div class="line">            mySys.printPalka(20);</div><div class="line">            Random rand = <span class="keyword">new</span> Random();</div><div class="line">            Matrix&lt;Figure&gt; matr = <span class="keyword">new</span> Matrix&lt;Figure&gt;(rmax,rmax,rmax,<span class="keyword">new</span> FigureMatrixCheckEmpty());</div><div class="line">            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; times; i++)</div><div class="line">            {</div><div class="line">                <span class="keywordtype">int</span> i0 = rand.Next(rmax), i1 = rand.Next(rmax), i2 = rand.Next(rmax);</div><div class="line">                matr[i0, i1, i2] = mySys.GenerFigure(10, rand);</div><div class="line">            }</div><div class="line">            Console.WriteLine(<span class="stringliteral">&quot;Printing existing elements...&quot;</span>);</div><div class="line">            mySys.printPalka(20);</div><div class="line">            matr.print();</div><div class="line">        }</div><div class="line">        <span class="keywordtype">void</span> case3()</div><div class="line">        {</div><div class="line">            Console.Clear();</div><div class="line">            Console.Write(<span class="stringliteral">&quot;Enter number of elements generated: &quot;</span>);</div><div class="line">            <span class="keywordtype">int</span> times = intReadKey();</div><div class="line">            SimpleStack&lt;Figure&gt; a = <span class="keyword">new</span> SimpleStack&lt;Figure&gt;();</div><div class="line">            Random rand = <span class="keyword">new</span> Random();</div><div class="line">            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; times; i++)</div><div class="line">            {</div><div class="line">                a.Push(mySys.GenerFigure(10, rand));</div><div class="line">            }</div><div class="line">            Console.WriteLine(<span class="stringliteral">&quot;Printing generated data...&quot;</span>);</div><div class="line">            mySys.printPalka(20);</div><div class="line">            a.print();</div><div class="line">            mySys.printPalka(20);</div><div class="line">            Console.Write(<span class="stringliteral">&quot;Enter number of eliminating element: &quot;</span>);</div><div class="line">            <span class="keywordtype">bool</span> t = <span class="keyword">true</span>;</div><div class="line">            SimpleListItem&lt;Figure&gt; f = null;</div><div class="line">            <span class="keywordflow">while</span> (t)</div><div class="line">            {</div><div class="line">                times = intReadKey();</div><div class="line">                <span class="keywordflow">try</span></div><div class="line">                {</div><div class="line">                    f = a.Pop(times);</div><div class="line">                    t = <span class="keyword">false</span>;</div><div class="line">                }</div><div class="line">                <span class="keywordflow">catch</span> (ArgumentException)</div><div class="line">                {</div><div class="line">                    Console.Write(<span class="stringliteral">&quot;Wrong input! Please, enter again: &quot;</span>);</div><div class="line">                    <span class="keywordflow">continue</span>;</div><div class="line">                }</div><div class="line">            }</div><div class="line">            mySys.printPalka(20);</div><div class="line">            Console.WriteLine(<span class="stringliteral">&quot;Eliminated element : &quot;</span> + f.data.ToString());</div><div class="line">            mySys.printPalka(20);</div><div class="line">            Console.WriteLine(<span class="stringliteral">&quot;Printing stack: &quot;</span>);</div><div class="line">            a.print();</div><div class="line">        }</div><div class="line">        <span class="keyword">public</span> <span class="keywordtype">void</span> run()</div><div class="line">        {</div><div class="line">            <span class="keywordtype">bool</span> t = <span class="keyword">true</span>;</div><div class="line">            <span class="keywordtype">bool</span> p = <span class="keyword">true</span>;</div><div class="line">            <span class="keywordflow">while</span> (p)</div><div class="line">            {</div><div class="line">                Console.Clear();</div><div class="line">                <span class="keywordflow">if</span> (t) Console.WriteLine(<span class="stringliteral">&quot;Lab_3 by Baybarin R.\n&quot;</span>);</div><div class="line">                t = <span class="keyword">false</span>;</div><div class="line">                Console.Write(<span class="stringliteral">&quot;============\n&quot;</span> +</div><div class="line">                              <span class="stringliteral">&quot;Menu\n&quot;</span> +</div><div class="line">                              <span class="stringliteral">&quot;============\n&quot;</span> +</div><div class="line">                              <span class="stringliteral">&quot;1) Testing ArrayList.Sort()\n&quot;</span> +</div><div class="line">                              <span class="stringliteral">&quot;2) Testing Sparse Matrix\n&quot;</span> +</div><div class="line">                              <span class="stringliteral">&quot;3) Testing SimpleList\n&quot;</span> +</div><div class="line">                              <span class="stringliteral">&quot;0) Exit\n&quot;</span> +</div><div class="line">                              <span class="stringliteral">&quot;============\n&quot;</span> +</div><div class="line">                              <span class="stringliteral">&quot;Your choice: &quot;</span>);</div><div class="line">                <span class="keywordtype">int</span> caseSwitch;</div><div class="line">                <span class="keywordtype">bool</span> f;</div><div class="line">                f = <span class="keywordtype">int</span>.TryParse(Console.ReadLine(), out caseSwitch);</div><div class="line">                <span class="keywordflow">if</span> (!f || caseSwitch &lt; 0 || caseSwitch &gt; 3)</div><div class="line">                {</div><div class="line">                    Console.WriteLine(<span class="stringliteral">&quot;ERROR!!!!! WRONG INPUT&quot;</span>);</div><div class="line">                    mySys.pause();</div><div class="line">                    <span class="keywordflow">continue</span>;</div><div class="line">                }</div><div class="line">                <span class="keywordflow">switch</span> (caseSwitch)</div><div class="line">                {</div><div class="line">                    <span class="keywordflow">case</span> 0:</div><div class="line">                        p = <span class="keyword">false</span>;</div><div class="line">                        Console.WriteLine(<span class="stringliteral">&quot;Exiting...Press Enter&quot;</span>);</div><div class="line">                        <span class="keywordflow">break</span>;</div><div class="line">                    <span class="keywordflow">case</span> 1: case1();</div><div class="line">                        <span class="keywordflow">break</span>;</div><div class="line">                    <span class="keywordflow">case</span> 2: case2();</div><div class="line">                        <span class="keywordflow">break</span>;</div><div class="line">                    <span class="keywordflow">case</span> 3: case3();</div><div class="line">                        <span class="keywordflow">break</span>;</div><div class="line">                }</div><div class="line">                mySys.pause();</div><div class="line">            }</div><div class="line">        }</div><div class="line">    }</div><div class="line">}</div><div class="line">﻿using System;</div><div class="line"><span class="keyword">using</span> System.Collections.Generic;</div><div class="line"><span class="keyword">using</span> System.Linq;</div><div class="line"><span class="keyword">using</span> System.Text;</div><div class="line"><span class="keyword">using</span> System.Threading.Tasks;</div><div class="line"></div><div class="line"><span class="keyword">namespace </span><a class="code" href="namespace_lab__3.html">Lab_3</a></div><div class="line">{</div><div class="line">    <span class="keyword">class </span>MySystem</div><div class="line">    {</div><div class="line">        <span class="keyword">public</span> <span class="keywordtype">void</span> pause()</div><div class="line">        {</div><div class="line">            Console.WriteLine(<span class="stringliteral">&quot;Input enter...&quot;</span>);</div><div class="line">            Console.ReadLine();</div><div class="line">        }</div><div class="line">        <span class="keyword">public</span> <span class="keywordtype">void</span> printPalka(<span class="keywordtype">int</span> l)</div><div class="line">        {</div><div class="line">            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; l; i++)</div><div class="line">            {</div><div class="line">                Console.Write(<span class="stringliteral">&quot;=&quot;</span>);</div><div class="line">            }</div><div class="line">            Console.Write(<span class="stringliteral">&quot;\n&quot;</span>);</div><div class="line">        }</div><div class="line">        <span class="keyword">public</span> Figure GenerFigure(<span class="keywordtype">int</span> param, Random rand)</div><div class="line">        {</div><div class="line">            Figure res = null;</div><div class="line">            <span class="keywordtype">int</span> a = rand.Next(3);</div><div class="line">            <span class="keywordflow">switch</span> (a)</div><div class="line">            {</div><div class="line">                <span class="keywordflow">case</span> 0:</div><div class="line">                    res = <span class="keyword">new</span> Circle(rand.Next(param));</div><div class="line">                    <span class="keywordflow">break</span>;</div><div class="line">                <span class="keywordflow">case</span> 1:</div><div class="line">                    res = <span class="keyword">new</span> Rect(rand.Next(param), rand.Next(param));</div><div class="line">                    <span class="keywordflow">break</span>;</div><div class="line">                <span class="keywordflow">case</span> 2:</div><div class="line">                    res = <span class="keyword">new</span> Square(rand.Next(param));</div><div class="line">                    <span class="keywordflow">break</span>;</div><div class="line">            }</div><div class="line">            <span class="keywordflow">return</span> res;</div><div class="line">        }</div><div class="line">    }</div><div class="line">}</div></div><!-- fragment --><p><a href="Program.cs">Исходный код</a> </p>
<p><br />
</p>
<h3>III. Примеры работы</h3>
<p><br />
</p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
